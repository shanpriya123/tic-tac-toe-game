<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tic Tac Toe â€” PvP / vs Computer</title>
<style>
  :root { --gap: 8px; --size: 100px; --accent:#222; }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
    background:#f4f4f9; font-family:system-ui, Arial, sans-serif; color:#111; padding:16px;
  }
  .wrap{ width:min(420px, 100%); }
  h1{ margin:0 0 8px; text-align:center; }
  .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; margin-bottom:8px;}
  label{ font-size:14px; }
  select,button,input[type="radio"]{ cursor:pointer; }
  select, .chip{
    padding:8px 10px; border-radius:10px; border:1px solid #ddd; background:#fff;
  }
  .chip{ font-weight:600; }
  .scoreboard{
    display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin:8px 0 10px;
  }
  .card{
    background:#fff; border:1px solid #e6e6e6; border-radius:16px; padding:10px; text-align:center;
    box-shadow:0 1px 3px rgba(0,0,0,0.04);
  }
  .big{ font-size:22px; font-weight:700; }
  .board{
    margin:10px auto; display:grid; gap:var(--gap);
    grid-template-columns:repeat(3, var(--size)); grid-template-rows:repeat(3, var(--size));
    touch-action:manipulation;
  }
  .cell{
    width:var(--size); height:var(--size); background:#fff; border:2px solid var(--accent);
    display:flex; align-items:center; justify-content:center; font-size:2.6rem; font-weight:800;
    user-select:none; border-radius:14px; transition:transform .06s ease;
  }
  .cell:active{ transform:scale(0.98); }
  .cell.taken{ cursor:not-allowed; color:#111; }
  .status{ text-align:center; font-weight:700; min-height:28px; margin-top:6px; }
  .controls{ display:flex; gap:8px; justify-content:center; margin-top:10px; flex-wrap:wrap; }
  button{
    padding:10px 14px; border:none; border-radius:12px; background:#111; color:#fff; font-weight:700;
  }
  button.secondary{ background:#555; }
  .muted{ opacity:.8; font-size:.92rem; }
  @media (max-width:420px){
    :root{ --size: 88px; --gap:6px; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Tic Tac Toe</h1>

    <!-- Mode & Options -->
    <div class="row">
      <label>Mode:
        <select id="mode">
          <option value="pvp">Player vs Player</option>
          <option value="cpu">Player vs Computer</option>
        </select>
      </label>

      <label id="diffWrap" style="display:none;">Difficulty:
        <select id="difficulty">
          <option value="easy">Easy</option>
          <option value="hard" selected>Hard (Unbeatable)</option>
        </select>
      </label>

      <label id="symbolWrap" style="display:none;">You play:
        <select id="playerSymbol">
          <option value="X" selected>X</option>
          <option value="O">O</option>
        </select>
      </label>

      <label>First turn:
        <select id="firstTurn">
          <option value="X" selected>X</option>
          <option value="O">O</option>
          <option value="alternate">Alternate each round</option>
        </select>
      </label>
    </div>

    <!-- Scores -->
    <div class="scoreboard">
      <div class="card">
        <div class="muted">X Wins</div>
        <div id="scoreX" class="big">0</div>
      </div>
      <div class="card">
        <div class="muted">Draws</div>
        <div id="scoreD" class="big">0</div>
      </div>
      <div class="card">
        <div class="muted">O Wins</div>
        <div id="scoreO" class="big">0</div>
      </div>
    </div>

    <!-- Timer & Turn -->
    <div class="row">
      <div class="chip">Time: <span id="timer">0</span>s</div>
      <div class="chip">Turn: <span id="turnBadge">X</span></div>
      <div class="chip muted" id="aiThinking" style="display:none;">ðŸ¤– thinkingâ€¦</div>
    </div>

    <!-- Board -->
    <div id="board" class="board" aria-label="Tic Tac Toe board" role="grid">
      <div class="cell" role="gridcell" data-i="0"></div>
      <div class="cell" role="gridcell" data-i="1"></div>
      <div class="cell" role="gridcell" data-i="2"></div>
      <div class="cell" role="gridcell" data-i="3"></div>
      <div class="cell" role="gridcell" data-i="4"></div>
      <div class="cell" role="gridcell" data-i="5"></div>
      <div class="cell" role="gridcell" data-i="6"></div>
      <div class="cell" role="gridcell" data-i="7"></div>
      <div class="cell" role="gridcell" data-i="8"></div>
    </div>

    <!-- Status + Controls -->
    <div class="status" id="status"></div>
    <div class="controls">
      <button id="restart">Restart Round</button>
      <button id="resetAll" class="secondary">Reset Scores</button>
    </div>
  </div>

<script>
  // ======= State =======
  const cells = [...document.querySelectorAll(".cell")];
  const statusEl = document.getElementById("status");
  const timerEl = document.getElementById("timer");
  const turnBadge = document.getElementById("turnBadge");
  const aiThinking = document.getElementById("aiThinking");
  const scoreXEl = document.getElementById("scoreX");
  const scoreOEl = document.getElementById("scoreO");
  const scoreDEl = document.getElementById("scoreD");

  const modeSel = document.getElementById("mode");
  const diffSel = document.getElementById("difficulty");
  const playerSymbolSel = document.getElementById("playerSymbol");
  const firstTurnSel = document.getElementById("firstTurn");
  const diffWrap = document.getElementById("diffWrap");
  const symbolWrap = document.getElementById("symbolWrap");

  const winCombos = [
    [0,1,2],[3,4,5],[6,7,8], // rows
    [0,3,6],[1,4,7],[2,5,8], // cols
    [0,4,8],[2,4,6]          // diagonals
  ];

  let board = Array(9).fill("");
  let turn = "X";
  let timer = 0, timerHandle = null;
  let scores = { X:0, O:0, D:0 };
  let lockInput = false; // disables clicks during AI move
  let nextFirst = "X";   // for "alternate" option

  // ======= Utilities =======
  function updateUI(){
    cells.forEach((c,i)=>{ c.textContent = board[i]; c.classList.toggle("taken", !!board[i]); });
    turnBadge.textContent = turn;
  }
  function startTimer(){
    clearInterval(timerHandle);
    timer = 0; timerEl.textContent = "0";
    timerHandle = setInterval(()=>{ timer++; timerEl.textContent = String(timer); }, 1000);
  }
  function stopTimer(){ clearInterval(timerHandle); }
  function setStatus(msg){ statusEl.textContent = msg || ""; }

  function availableMoves(b){ return b.map((v,i)=>v===""?i:null).filter(v=>v!==null); }
  function getWinner(b){
    for(const [a,b1,c] of winCombos){
      if(b[a] && b[a]===b[b1] && b[a]===b[c]) return b[a];
    }
    if(availableMoves(b).length===0) return "D"; // draw
    return null;
  }

  // ======= Round Control =======
  function chooseFirstTurn(){
    const mode = modeSel.value;
    const first = firstTurnSel.value;
    if(first === "alternate"){
      // use and flip
      const who = nextFirst;
      nextFirst = (nextFirst === "X") ? "O" : "X";
      return who;
    }
    return first;
  }

  function restartRound(){
    board = Array(9).fill("");
    turn = chooseFirstTurn();
    lockInput = false;
    updateUI();
    setStatus("");
    startTimer();

    // If vs CPU and CPU starts, make immediate move
    const vsCpu = modeSel.value === "cpu";
    const human = playerSymbolSel.value;
    const cpu = human === "X" ? "O" : "X";
    if(vsCpu && turn === cpu){
      aiMove();
    }
  }

  function endRound(result){ // result: "X" | "O" | "D"
    stopTimer();
    if(result==="D"){ setStatus("It's a Draw!"); }
    else{ setStatus(`${result} Wins!`); }
    scores[result]++; // X or O or D key exists
    scoreXEl.textContent = scores.X;
    scoreOEl.textContent = scores.O;
    scoreDEl.textContent = scores.D;
    lockInput = true;
  }

  // ======= Minimax (Hard) & Easy AI =======
  function scoreFor(result, forPlayer){
    if(result==="D") return 0;
    return result === forPlayer ? 1 : -1;
  }

  function minimax(b, player, forPlayer){
    const winner = getWinner(b);
    if(winner){ return { score: scoreFor(winner, forPlayer) }; }

    const moves = availableMoves(b);
    // If current player is 'forPlayer' -> maximize, else minimize
    let best = { score: (player===forPlayer)? -Infinity : Infinity, index: null };

    for(const idx of moves){
      b[idx] = player;
      const next = minimax(b, player==="X"?"O":"X", forPlayer).score;
      b[idx] = "";
      if(player===forPlayer){
        if(next > best.score){ best = { score: next, index: idx }; }
      } else {
        if(next < best.score){ best = { score: next, index: idx }; }
      }
    }
    return best;
  }

  function aiBestMove(){
    const human = playerSymbolSel.value;
    const cpu = human === "X" ? "O" : "X";
    const diff = diffSel.value;

    const moves = availableMoves(board);
    if(diff === "easy"){
      // random legal move
      return moves[Math.floor(Math.random()*moves.length)];
    }
    // hard: unbeatable with minimax
    return minimax(board.slice(), cpu, cpu).index;
  }

  function aiMove(){
    if(lockInput) return;
    lockInput = true;
    aiThinking.style.display = "inline";

    // small delay for UX
    setTimeout(()=>{
      const idx = aiBestMove();
      if(idx !== undefined){
        board[idx] = turn;
        updateUI();
        const w = getWinner(board);
        if(w){ endRound(w); }
        else{
          turn = turn==="X"?"O":"X";
          updateUI();
          lockInput = false;
          aiThinking.style.display = "none";
          setStatus("");
        }
      } else {
        // no move (should not happen)
        lockInput = false;
        aiThinking.style.display = "none";
      }
    }, 350);
  }

  // ======= Events =======
  cells.forEach((cell)=>{
    cell.addEventListener("click", ()=>{
      if(lockInput) return;
      const i = Number(cell.dataset.i);
      if(board[i] !== "") return;

      const vsCpu = modeSel.value === "cpu";
      const human = playerSymbolSel.value;
      const cpu = human === "X" ? "O" : "X";

      // Only allow human to play their symbol when vs CPU
      if(vsCpu && turn !== human) return;

      board[i] = turn;
      updateUI();

      const w = getWinner(board);
      if(w){ endRound(w); return; }

      // switch turn
      turn = turn==="X"?"O":"X";
      updateUI();

      // If vs CPU and now it's CPU's turn, let it move
      if(vsCpu && turn === cpu){
        aiMove();
      }
    });
  });

  document.getElementById("restart").addEventListener("click", restartRound);
  document.getElementById("resetAll").addEventListener("click", ()=>{
    scores = { X:0, O:0, D:0 };
    scoreXEl.textContent = 0; scoreOEl.textContent = 0; scoreDEl.textContent = 0;
    nextFirst = "X";
    restartRound();
  });

  modeSel.addEventListener("change", ()=>{
    const cpuMode = modeSel.value === "cpu";
    diffWrap.style.display = cpuMode ? "inline-block" : "none";
    symbolWrap.style.display = cpuMode ? "inline-block" : "none";
    restartRound();
  });
  diffSel.addEventListener("change", ()=>{ if(modeSel.value==="cpu") restartRound(); });
  playerSymbolSel.addEventListener("change", ()=>{ if(modeSel.value==="cpu") restartRound(); });
  firstTurnSel.addEventListener("change", ()=>{ restartRound(); });

  // ======= Init =======
  restartRound();
</script>
</body>
</html>






<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tic Tac Toe â€” Color Edition</title>
<style>
  :root{
    --bg:#f8fafc; --card:#ffffff; --ink:#0f172a; --muted:#475569; --border:#e2e8f0;
    --x:#e11d48;      /* X = Rose */
    --o:#2563eb;      /* O = Blue */
    --win:#10b981;    /* Winning highlight = Green */
    --chip:#f1f5f9; --btn:#111827; --btn-2:#334155;
    --cell: #ffffff; --grid:#0f172a;
  }







<!-- âœ… Music Code -->
  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  

  <script>
    const bgMusic = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");

    // ðŸ’¡ Mobile requires user action, so trigger music on any click
    window.addEventListener("click", () => {
      bgMusic.play();
      musicBtn.innerText = "Pause Music";
    }, { once: true });

    function toggleMusic() {
      if (bgMusic.paused) {
        bgMusic.play();
        musicBtn.innerText = "Pause Music";
      } else {
        bgMusic.pause();
        musicBtn.innerText = "Play Music";
      }
    }
  </script>

</body>
</html>









